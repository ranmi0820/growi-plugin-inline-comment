{"version":3,"file":"path-utils.js","sources":["../../src/utils/path-utils.ts"],"sourcesContent":["interface PathParts {\n  readonly headingSlashes: string;\n  readonly content: string;\n  readonly trailingSlashes: string;\n  readonly hasHeadingSlash: boolean;\n  readonly hasTrailingSlash: boolean;\n}\n\nfunction parsePath(path: string): PathParts | null {\n  if (typeof path !== 'string' || !path || path === '') return null;\n\n  // Special case for root path\n  if (path === '/') {\n    return {\n      headingSlashes: '/',\n      content: '',\n      trailingSlashes: '',\n      hasHeadingSlash: true,\n      hasTrailingSlash: true,\n    };\n  }\n\n  let startIndex = 0;\n  let endIndex = path.length;\n\n  // Find leading slashes\n  while (startIndex < path.length && path[startIndex] === '/') {\n    startIndex++;\n  }\n\n  // Find trailing slashes\n  while (endIndex > startIndex && path[endIndex - 1] === '/') {\n    endIndex--;\n  }\n\n  const headingSlashes = path.substring(0, startIndex);\n  const content = path.substring(startIndex, endIndex);\n  const trailingSlashes = path.substring(endIndex);\n\n  return {\n    headingSlashes,\n    content,\n    trailingSlashes,\n    hasHeadingSlash: headingSlashes.length > 0,\n    hasTrailingSlash: trailingSlashes.length > 0,\n  };\n}\n\nexport function hasHeadingSlash(path: string): boolean {\n  if (path === '/') return true;\n\n  const parts = parsePath(path);\n  return parts?.hasHeadingSlash ?? false;\n}\n\nexport function hasTrailingSlash(path: string): boolean {\n  if (path === '/') return true;\n\n  const parts = parsePath(path);\n  return parts?.hasTrailingSlash ?? false;\n}\n\nexport function addHeadingSlash(path: string): string {\n  if (path === '/') return path;\n  if (path === '') return '/';\n\n  const parts = parsePath(path);\n  if (!parts?.hasHeadingSlash) {\n    return `/${path}`;\n  }\n  return path;\n}\n\nexport function addTrailingSlash(path: string): string {\n  if (path === '/') return path;\n  if (path === '') return '/';\n\n  const parts = parsePath(path);\n  if (!parts?.hasTrailingSlash) {\n    return `${path}/`;\n  }\n  return path;\n}\n\nexport function removeHeadingSlash(path: string): string {\n  if (path === '/') return path;\n  if (path === '') return path;\n\n  const parts = parsePath(path);\n  if (!parts?.hasHeadingSlash) return path;\n\n  // Special case for '//' -> '/'\n  if (path === '//') return '/';\n\n  // Remove heading slashes and return content + trailing slashes\n  return parts.content + parts.trailingSlashes;\n}\n\nexport function removeTrailingSlash(path: string): string {\n  if (path === '/') return path;\n  if (path === '') return path;\n\n  const parts = parsePath(path);\n  if (parts == null) return path;\n\n  // Return heading slashes + content (without trailing slashes)\n  return parts.headingSlashes + parts.content;\n}\n\n/**\n * A short-hand method to add heading slash and remove trailing slash.\n */\nexport function normalizePath(path: string): string {\n  if (typeof path !== 'string' || path === '' || path === '/') {\n    return '/';\n  }\n\n  const parts = parsePath(path);\n  if (parts == null) {\n    return '/';\n  }\n  return `/${parts.content}`;\n}\n\nexport function attachTitleHeader(path: string): string {\n  return `# ${path}`;\n}\n\n/**\n * If the pagePath is top page path, eliminate the pageId from the url path.\n */\nexport function returnPathForURL(path: string, id: string): string {\n  if (path === '/') {\n    return path;\n  }\n\n  return addHeadingSlash(id);\n}\n\n/**\n * Get the parent path of the specified path.\n */\nexport function getParentPath(path: string): string {\n  return normalizePath(path.split('/').slice(0, -1).join('/'));\n}\n"],"names":["parsePath","path","startIndex","endIndex","headingSlashes","content","trailingSlashes","hasHeadingSlash","parts","hasTrailingSlash","addHeadingSlash","addTrailingSlash","removeHeadingSlash","removeTrailingSlash","normalizePath","attachTitleHeader","returnPathForURL","id","getParentPath"],"mappings":"AAQA,SAASA,EAAUC,GAAgC;AACjD,MAAI,OAAOA,KAAS,YAAY,CAACA,KAAQA,MAAS,GAAW,QAAA;AAG7D,MAAIA,MAAS;AACJ,WAAA;AAAA,MACL,gBAAgB;AAAA,MAChB,SAAS;AAAA,MACT,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,IACpB;AAGF,MAAIC,IAAa,GACbC,IAAWF,EAAK;AAGpB,SAAOC,IAAaD,EAAK,UAAUA,EAAKC,CAAU,MAAM;AACtD,IAAAA;AAIF,SAAOC,IAAWD,KAAcD,EAAKE,IAAW,CAAC,MAAM;AACrD,IAAAA;AAGF,QAAMC,IAAiBH,EAAK,UAAU,GAAGC,CAAU,GAC7CG,IAAUJ,EAAK,UAAUC,GAAYC,CAAQ,GAC7CG,IAAkBL,EAAK,UAAUE,CAAQ;AAExC,SAAA;AAAA,IACL,gBAAAC;AAAA,IACA,SAAAC;AAAA,IACA,iBAAAC;AAAA,IACA,iBAAiBF,EAAe,SAAS;AAAA,IACzC,kBAAkBE,EAAgB,SAAS;AAAA,EAC7C;AACF;AAEO,SAASC,EAAgBN,GAAuB;AACjD,MAAAA,MAAS,IAAY,QAAA;AAEnB,QAAAO,IAAQR,EAAUC,CAAI;AAC5B,UAAOO,KAAA,gBAAAA,EAAO,oBAAmB;AACnC;AAEO,SAASC,EAAiBR,GAAuB;AAClD,MAAAA,MAAS,IAAY,QAAA;AAEnB,QAAAO,IAAQR,EAAUC,CAAI;AAC5B,UAAOO,KAAA,gBAAAA,EAAO,qBAAoB;AACpC;AAEO,SAASE,EAAgBT,GAAsB;AAChD,MAAAA,MAAS,IAAY,QAAAA;AACrB,MAAAA,MAAS,GAAW,QAAA;AAElB,QAAAO,IAAQR,EAAUC,CAAI;AACxB,SAACO,KAAA,QAAAA,EAAO,kBAGLP,IAFE,IAAIA,CAAI;AAGnB;AAEO,SAASU,EAAiBV,GAAsB;AACjD,MAAAA,MAAS,IAAY,QAAAA;AACrB,MAAAA,MAAS,GAAW,QAAA;AAElB,QAAAO,IAAQR,EAAUC,CAAI;AACxB,SAACO,KAAA,QAAAA,EAAO,mBAGLP,IAFE,GAAGA,CAAI;AAGlB;AAEO,SAASW,EAAmBX,GAAsB;AAEnD,MADAA,MAAS,OACTA,MAAS,GAAW,QAAAA;AAElB,QAAAO,IAAQR,EAAUC,CAAI;AACxB,SAACO,KAAA,QAAAA,EAAO,kBAGRP,MAAS,OAAa,MAGnBO,EAAM,UAAUA,EAAM,kBANOP;AAOtC;AAEO,SAASY,EAAoBZ,GAAsB;AAEpD,MADAA,MAAS,OACTA,MAAS,GAAW,QAAAA;AAElB,QAAAO,IAAQR,EAAUC,CAAI;AACxB,SAAAO,KAAS,OAAaP,IAGnBO,EAAM,iBAAiBA,EAAM;AACtC;AAKO,SAASM,EAAcb,GAAsB;AAClD,MAAI,OAAOA,KAAS,YAAYA,MAAS,MAAMA,MAAS;AAC/C,WAAA;AAGH,QAAAO,IAAQR,EAAUC,CAAI;AAC5B,SAAIO,KAAS,OACJ,MAEF,IAAIA,EAAM,OAAO;AAC1B;AAEO,SAASO,EAAkBd,GAAsB;AACtD,SAAO,KAAKA,CAAI;AAClB;AAKgB,SAAAe,EAAiBf,GAAcgB,GAAoB;AACjE,SAAIhB,MAAS,MACJA,IAGFS,EAAgBO,CAAE;AAC3B;AAKO,SAASC,EAAcjB,GAAsB;AAC3C,SAAAa,EAAcb,EAAK,MAAM,GAAG,EAAE,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,CAAC;AAC7D;"}