import { GrowiDeploymentType, GrowiServiceType } from '../consts/system';
import type * as os from 'node:os';
export declare const GrowiWikiType: {
    readonly open: "open";
    readonly closed: "closed";
};
type GrowiWikiType = (typeof GrowiWikiType)[keyof typeof GrowiWikiType];
export interface GrowiInfoOptions {
    includeAttachmentInfo?: boolean;
    includeInstalledInfo?: boolean;
    includeUserCountInfo?: boolean;
    includePageCountInfo?: boolean;
}
interface IGrowiOSInfo {
    type?: ReturnType<typeof os.type>;
    platform?: ReturnType<typeof os.platform>;
    arch?: ReturnType<typeof os.arch>;
    totalmem?: ReturnType<typeof os.totalmem>;
}
interface IAdditionalAttachmentInfo {
    attachmentType: string;
    activeExternalAccountTypes: string[];
}
interface IAdditionalInstalledAtInfo {
    installedAt: Date;
    installedAtByOldestUser: Date | null;
}
interface IAdditionalUserCountInfo {
    currentUsersCount: number;
    currentActiveUsersCount: number;
}
interface IAdditionalPageCountInfo {
    currentPagesCount: number;
}
export interface IGrowiAdditionalInfo extends IAdditionalInstalledAtInfo, IAdditionalUserCountInfo, IAdditionalPageCountInfo, IAdditionalAttachmentInfo {
}
export type IGrowiAdditionalInfoByOptions<T extends GrowiInfoOptions> = (T['includeAttachmentInfo'] extends true ? IAdditionalAttachmentInfo : Record<string, never>) & (T['includeInstalledInfo'] extends true ? IAdditionalInstalledAtInfo : Record<string, never>) & (T['includeUserCountInfo'] extends true ? IAdditionalUserCountInfo : Record<string, never>) & (T['includePageCountInfo'] extends true ? IAdditionalPageCountInfo : Record<string, never>);
export type HasAnyOption<T extends GrowiInfoOptions> = T['includeAttachmentInfo'] extends true ? true : T['includeInstalledInfo'] extends true ? true : T['includeUserCountInfo'] extends true ? true : T['includePageCountInfo'] extends true ? true : false;
export type IGrowiAdditionalInfoResult<T extends GrowiInfoOptions> = HasAnyOption<T> extends true ? IGrowiAdditionalInfoByOptions<T> : undefined;
export interface IGrowiInfo<A extends object | undefined = undefined> {
    serviceInstanceId: string;
    appSiteUrl: string;
    osInfo: IGrowiOSInfo;
    version: string;
    type: GrowiServiceType;
    wikiType: GrowiWikiType;
    deploymentType: GrowiDeploymentType;
    additionalInfo?: A;
}
export {};
