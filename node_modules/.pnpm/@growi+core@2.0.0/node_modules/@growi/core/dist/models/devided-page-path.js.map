{"version":3,"file":"devided-page-path.js","sources":["../../src/models/devided-page-path.ts"],"sourcesContent":["import * as pathUtils from '../utils/path-utils';\n\n// https://regex101.com/r/BahpKX/2\nconst PATTERN_INCLUDE_DATE =\n  /^(.+\\/[^/]+)\\/(\\d{4}|\\d{4}\\/\\d{2}|\\d{4}\\/\\d{2}\\/\\d{2})$/;\n\nexport class DevidedPagePath {\n  isRoot: boolean;\n\n  isFormerRoot: boolean;\n\n  former: string;\n\n  latter: string;\n\n  constructor(path: string, skipNormalize = false, evalDatePath = false) {\n    this.isRoot = false;\n    this.isFormerRoot = false;\n    this.former = '';\n\n    // root\n    if (path == null || path === '' || path === '/') {\n      this.isRoot = true;\n      this.latter = '/';\n      return;\n    }\n\n    const pagePath = skipNormalize ? path : pathUtils.normalizePath(path);\n    this.latter = pagePath;\n\n    // evaluate date path\n    if (evalDatePath) {\n      const matchDate = pagePath.match(PATTERN_INCLUDE_DATE);\n      if (matchDate != null) {\n        this.former = matchDate[1];\n        this.latter = matchDate[2];\n        return;\n      }\n    }\n\n    let PATTERN_DEFAULT = /^((.*)\\/(?!em>))?(.+)$/; // this will ignore em's end tags\n    try {\n      // for non-chrome browsers\n      // biome-ignore lint/complexity/useRegexLiterals: ignore\n      PATTERN_DEFAULT = new RegExp('^((.*)(?<!<)\\\\/)?(.+)$'); // https://regex101.com/r/HJNvMW/1\n    } catch {\n      // lookbehind regex is not supported on non-chrome browsers\n    }\n\n    const matchDefault = pagePath.match(PATTERN_DEFAULT);\n    if (matchDefault != null) {\n      this.isFormerRoot = matchDefault[1] === '/';\n      this.former = matchDefault[2];\n      this.latter = matchDefault[3];\n    }\n  }\n}\n"],"names":["PATTERN_INCLUDE_DATE","DevidedPagePath","path","skipNormalize","evalDatePath","__publicField","pagePath","pathUtils.normalizePath","matchDate","PATTERN_DEFAULT","matchDefault"],"mappings":";;;;AAGA,MAAMA,IACJ;AAEK,MAAMC,EAAgB;AAAA,EAS3B,YAAYC,GAAcC,IAAgB,IAAOC,IAAe,IAAO;AARvE,IAAAC,EAAA;AAEA,IAAAA,EAAA;AAEA,IAAAA,EAAA;AAEA,IAAAA,EAAA;AAQE,QALA,KAAK,SAAS,IACd,KAAK,eAAe,IACpB,KAAK,SAAS,IAGVH,KAAQ,QAAQA,MAAS,MAAMA,MAAS,KAAK;AAC/C,WAAK,SAAS,IACd,KAAK,SAAS;AACd;AAAA,IAAA;AAGF,UAAMI,IAAWH,IAAgBD,IAAOK,EAAwBL,CAAI;AAIpE,QAHA,KAAK,SAASI,GAGVF,GAAc;AACV,YAAAI,IAAYF,EAAS,MAAMN,CAAoB;AACrD,UAAIQ,KAAa,MAAM;AAChB,aAAA,SAASA,EAAU,CAAC,GACpB,KAAA,SAASA,EAAU,CAAC;AACzB;AAAA,MAAA;AAAA,IACF;AAGF,QAAIC,IAAkB;AAClB,QAAA;AAGgB,MAAAA,IAAA,IAAI,OAAO,wBAAwB;AAAA,IAAA,QAC/C;AAAA,IAAA;AAIF,UAAAC,IAAeJ,EAAS,MAAMG,CAAe;AACnD,IAAIC,KAAgB,SACb,KAAA,eAAeA,EAAa,CAAC,MAAM,KACnC,KAAA,SAASA,EAAa,CAAC,GACvB,KAAA,SAASA,EAAa,CAAC;AAAA,EAC9B;AAEJ;"}