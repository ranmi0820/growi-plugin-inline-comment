{"version":3,"file":"devided-page-path.cjs","sources":["../../src/models/devided-page-path.ts"],"sourcesContent":["import * as pathUtils from '../utils/path-utils';\n\n// https://regex101.com/r/BahpKX/2\nconst PATTERN_INCLUDE_DATE =\n  /^(.+\\/[^/]+)\\/(\\d{4}|\\d{4}\\/\\d{2}|\\d{4}\\/\\d{2}\\/\\d{2})$/;\n\nexport class DevidedPagePath {\n  isRoot: boolean;\n\n  isFormerRoot: boolean;\n\n  former: string;\n\n  latter: string;\n\n  constructor(path: string, skipNormalize = false, evalDatePath = false) {\n    this.isRoot = false;\n    this.isFormerRoot = false;\n    this.former = '';\n\n    // root\n    if (path == null || path === '' || path === '/') {\n      this.isRoot = true;\n      this.latter = '/';\n      return;\n    }\n\n    const pagePath = skipNormalize ? path : pathUtils.normalizePath(path);\n    this.latter = pagePath;\n\n    // evaluate date path\n    if (evalDatePath) {\n      const matchDate = pagePath.match(PATTERN_INCLUDE_DATE);\n      if (matchDate != null) {\n        this.former = matchDate[1];\n        this.latter = matchDate[2];\n        return;\n      }\n    }\n\n    let PATTERN_DEFAULT = /^((.*)\\/(?!em>))?(.+)$/; // this will ignore em's end tags\n    try {\n      // for non-chrome browsers\n      // biome-ignore lint/complexity/useRegexLiterals: ignore\n      PATTERN_DEFAULT = new RegExp('^((.*)(?<!<)\\\\/)?(.+)$'); // https://regex101.com/r/HJNvMW/1\n    } catch {\n      // lookbehind regex is not supported on non-chrome browsers\n    }\n\n    const matchDefault = pagePath.match(PATTERN_DEFAULT);\n    if (matchDefault != null) {\n      this.isFormerRoot = matchDefault[1] === '/';\n      this.former = matchDefault[2];\n      this.latter = matchDefault[3];\n    }\n  }\n}\n"],"names":["PATTERN_INCLUDE_DATE","DevidedPagePath","path","skipNormalize","evalDatePath","__publicField","pagePath","pathUtils.normalizePath","matchDate","PATTERN_DEFAULT","matchDefault"],"mappings":"+RAGMA,EACJ,0DAEK,MAAMC,CAAgB,CAS3B,YAAYC,EAAcC,EAAgB,GAAOC,EAAe,GAAO,CARvEC,EAAA,eAEAA,EAAA,qBAEAA,EAAA,eAEAA,EAAA,eAQE,GALA,KAAK,OAAS,GACd,KAAK,aAAe,GACpB,KAAK,OAAS,GAGVH,GAAQ,MAAQA,IAAS,IAAMA,IAAS,IAAK,CAC/C,KAAK,OAAS,GACd,KAAK,OAAS,IACd,MAAA,CAGF,MAAMI,EAAWH,EAAgBD,EAAOK,EAAAA,cAAwBL,CAAI,EAIpE,GAHA,KAAK,OAASI,EAGVF,EAAc,CACV,MAAAI,EAAYF,EAAS,MAAMN,CAAoB,EACrD,GAAIQ,GAAa,KAAM,CAChB,KAAA,OAASA,EAAU,CAAC,EACpB,KAAA,OAASA,EAAU,CAAC,EACzB,MAAA,CACF,CAGF,IAAIC,EAAkB,yBAClB,GAAA,CAGgBA,EAAA,IAAI,OAAO,wBAAwB,CAAA,MAC/C,CAAA,CAIF,MAAAC,EAAeJ,EAAS,MAAMG,CAAe,EAC/CC,GAAgB,OACb,KAAA,aAAeA,EAAa,CAAC,IAAM,IACnC,KAAA,OAASA,EAAa,CAAC,EACvB,KAAA,OAASA,EAAa,CAAC,EAC9B,CAEJ"}