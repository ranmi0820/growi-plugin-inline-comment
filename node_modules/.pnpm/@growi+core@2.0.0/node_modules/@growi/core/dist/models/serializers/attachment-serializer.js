import { Document as s } from "mongoose";
import { isRef as u, isPopulated as n } from "../../interfaces/common.js";
import { serializeUserSecurely as c } from "./user-serializer.js";
const l = (r) => {
  const o = r instanceof s ? r.toObject() : r, { creator: e, ...i } = o;
  return {
    creator: e == null ? void 0 : c(e),
    ...i
  };
};
function d(r) {
  return r == null || u(r) && !n(r) ? r : l(r);
}
export {
  d as serializeAttachmentSecurely
};
//# sourceMappingURL=attachment-serializer.js.map
